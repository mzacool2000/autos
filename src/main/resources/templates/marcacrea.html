<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Registro</title>
  <link href="https://fonts.googleapis.com/css?family=Karla:400,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.materialdesignicons.com/4.8.95/css/materialdesignicons.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/css/login.css">
  <meta name="viewport" content="width=device-width, initial-scale=4">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
  <main class="d-flex align-items-center min-vh-100 py-3 py-md-0">
    <div class="container">
      <div class="card login-card">
          
          <a href="/tablero" class="botoncerrar fa fa-dashboard" style="font-size:28px;color:green" ></a>
         
       
            <div class="card-body">
              <div class="brand-wrapper">
                <img src="assets/images/logo.png" alt="logo" class="logo">
              </div>
              <p class="login-card-description" th:text="${marcaEd} == null ? 'Agregar Marca' : 'Editar Marca' "></p>
              <div class="form-group"  >
              <form action="/agregarM" method="POST">
                   <input type= "hidden"  name="id"  th:value="${marcaEd} == null ? null : ${marcaEd.id}" />  
                 
                   
                    <label>Nombre de la marca</label>
                    <input type="text" name="nombre"  th:value="${marcaEd} == null ? null : ${marcaEd.nombre}"  class="form-control" />
                 
                  
                    <label>Habilitada</label>
                    <input type="checkbox" name="habilitado" th:checked="${marcaEd} != null and ${marcaEd.habilitado} == true ? 'checked'" class="checkbox" />
                  
                  
                    <br/><button type="submit" class="btn-block btn btn-success mb-4" th:text="${marcaEd} == null ? 'Guardar' :'Editar' " >Guardar</button>
                </form>
                    <form th:if="${marcaEd} != null" action="/marcadelet" method="POST">

                  <input type= "hidden"  name="id"  th:value="${marcaEd} == null ? null : ${marcaEd.id}" />  
                  <button name="Registrarse" id="Registrarse" class= "btn-block btn btn-success mb-4" type="submit" >Eliminar</button>
                    </form>
                  <div class="form-group pull-right">
                      <input type="text" class="search form-control" placeholder="Â¿que vehiculo busca?">
                  </div>
                  <span class="counter pull-right"></span>
                  <table class="table table table-sm table-dark table-bordered results">
                      <thead>
                          <tr>
                              <th class="text-white mt-0">#</th>
                              <th class="text-white mt-0">Nombre</th>
                              <th class="text-white mt-0">Habilitado</th>
                          </tr>
                          <tr class="warning no-result">
                              <td class="text-white mt-0" colspan="10"><i class="fa fa-warning"></i> No result</td>
                          </tr>
                      </thead>
                      <tbody>
                          <tr th:each="marca:${marcas}" >
                              <td  class="text-white mt-0 center-block">
                                  <a th:href="@{/editarmarca__${marca.id}__}" th:text="Editar"></a></td>

                              <td th:text="${marca.nombre}" class="text-white mt-0"></td>
                              <td th:text="${marca.habilitado}" class="text-white mt-0"></td>



                          </tr>
                      </tbody>
                  </table>
              </div>
            </div>
          </div>

        </div>
   
     

  </main>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
  <script>
$(document).ready(function () {
        $(".search").keyup(function () {
                var searchTerm = $(".search").val();
                var listItem = $(".results tbody").children("tr");
                var searchSplit = searchTerm.replace(/ /g, "'):containsi('");

                $.extend($.expr[":"], {
                        containsi: function (elem, i, match, array) {
                                return (
                                        (elem.textContent || elem.innerText || "")
                                                .toLowerCase()
                                                .indexOf((match[3] || "").toLowerCase()) >= 0
                                );
                        }
                });

                $(".results tbody tr")
                        .not(":containsi('" + searchSplit + "')")
                        .each(function (e) {
                                $(this).attr("visible", "false");
                        });

                $(".results tbody tr:containsi('" + searchSplit + "')").each(function (e) {
                        $(this).attr("visible", "true");
                });

                var jobCount = $('.results tbody tr[visible="true"]').length;
                $(".counter").text(jobCount + " item");

                if (jobCount == "0") {
                        $(".no-result").show();
                } else {
                        $(".no-result").hide();
                }
        });
});
  </script>
</body>
</html>
